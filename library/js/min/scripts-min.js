/*! safemarket 2015-11-24 */
$(function(){function a(){$(".dot").each(function(){b($(this))})}function b(a){var b=$(a.attr("data-dot-from")),c=$(a.attr("data-dot-to"));c.css("top",0);var d=b.offset().top+b.height()+6,e=c.offset().top,f=e-d,g=f%10;f-=g,0!==g&&c.css("top",-g),a.css({top:d,height:f})}function c(){$(".nav-burger").click(function(){g.is(":visible")?($(this).removeClass("active"),g.slideUp()):($(this).removeClass("active"),$(this).addClass("active"),g.slideDown())})}function d(a){var b=n.find("li:eq("+a+")");n.find("li").hasClass("active")&&n.find("li").removeClass("active"),b.addClass("active")}var e=$(window).width(),f=$("#header"),g=$("#main-nav"),h=$("#intro"),i=$("#page1"),j=$("#page2"),k=$("#page3"),l=$("#page4"),m=$("#page5"),n=$(".bullet-nav");$(window).resize(function(){$(window).width()!==e&&(window.clearTimeout(window.resizeEvent),window.resizeEvent=window.setTimeout(function(){a()},10),800>=e&&n.is(":visible")?n.hide():window.scrollY>=i.offset().top&&n.show(),e=$(window).width())}),c(),window.setTimeout(function(){a()},100),n.find("li").click(function(){var a=$(this).index(),b=$($(".main-section").get(a)).offset().top;$("html, body").animate({scrollTop:b},1e3)});var o=0;d(o),h.waypoint(function(a){"down"===a?f.css("display","block"):f.css("display","none")},{offset:-100}),i.waypoint(function(a){"down"===a?(f.addClass("appear bg-blue"),e>=800&&n.show(),d(++o)):(f.removeClass("appear bg-blue"),768>e&&g.is(":visible")&&window.setTimeout(function(){g.hide()},200),e>=800&&n.fadeOut(),d(--o))},{offset:f.outerHeight()}),j.waypoint(function(a){"down"===a?(f.removeClass("bg-blue"),f.addClass("bg-christalle"),d(++o)):(f.removeClass("bg-christalle"),f.addClass("bg-blue"),d(--o))},{offset:f.outerHeight()}),k.waypoint(function(a){"down"===a?(f.removeClass("bg-christalle"),f.addClass("bg-blackberry"),d(++o)):(f.removeClass("bg-blackberry"),f.addClass("bg-christalle"),d(--o))},{offset:f.outerHeight()}),l.waypoint(function(a){"down"===a?(f.removeClass("bg-blackberry"),f.addClass("bg-purple"),d(++o)):(f.addClass("bg-blackberry"),f.removeClass("bg-purple"),d(--o))},{offset:f.outerHeight()}),m.waypoint(function(a){"down"===a?(f.removeClass("bg-purple"),f.addClass("bg-brown"),d(++o)):(f.removeClass("bg-brown"),f.addClass("bg-purple"),d(--o))},{offset:f.outerHeight()})});